## 问题原因
- Windows 不支持 `~` 自动展开为用户主目录；当前代码将 `~` 当作普通字符处理。
- 在两处下载逻辑中，`finalOutputDir`/`outputDir` 直接参与 `path.join(...)`，实际写入路径会变成工作目录下的 `~\...`，而不是用户主目录（日志显示 `~` 即未展开）。
- 参考位置：
  - 列表-下载分支：`src/commands/release/index.ts:126–146`
  - 子命令 `release download`：`src/commands/release/index.ts:578–604`

## 立即规避建议
- 运行时参数改用绝对路径（如 `C:\Users\<name>\Projects\...`），或使用 `%USERPROFILE%` 展开后的实际路径，不要使用 `~`。
- 如果已执行下载，文件应位于当前项目目录下的 `~` 子目录：`c:\home\Projects\frontend\node\shipit\~\Projects\practice\official-website-v2\...`。

## 代码修复方案
1. 新增路径展开工具（就地实现，后续可抽到 `src/utils`）：
   - `resolveUserPath(p: string): string`
   - 规则：
     - 将前导 `~/` 或 `~\` 展开为 `os.homedir()`。
     - 支持环境变量：`%VAR%`（Windows）与 `$VAR`（类 Unix），使用 `process.env` 展开。
     - 返回绝对路径：`path.resolve(...)`。
   - 保持与现有 `normalizePath(...)` 校验兼容：先展开，再比较允许前缀。
2. 应用到两处下载逻辑：
   - 列表-下载分支：在 `outputDir` 校验与创建前调用 `resolveUserPath(...)`，并据此生成 `filePath`。
   - 子命令 `release download`：在 `finalOutputDir` 校验与创建前调用 `resolveUserPath(...)`，并据此生成 `filePath`。
3. 日志优化
   - 成功日志显示展开后的绝对路径，避免误导。
4. 兼容性与安全
   - 允许前缀校验：对 `allowedTargetDirPrefix` 同样做 `resolveUserPath + normalizePath`，保证比较一致。
   - 不改变非 Windows 行为；仅在输入包含 `~`/环境变量时生效。

## 测试计划（Vitest）
- 单元测试：
  - `resolveUserPath('~/abc')` 展开为 `path.join(os.homedir(), 'abc')`。
  - `%USERPROFILE%\abc` 与 `$HOME/abc` 在相应环境下正确展开。
  - 允许前缀比较在展开后仍正确。
- 集成测试（可选）：
  - 模拟执行 `release download`，传 `-o ~/tmp-shipit`，断言文件写入 `os.homedir()` 下的目录。

## 变更范围与影响
- 仅修改 `src/commands/release/index.ts` 当前文件，不引入新依赖。
- 不影响上传/发布逻辑；仅修正下载到本地的路径解析与日志显示。